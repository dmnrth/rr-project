<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>05 Summary Report</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="05_summary_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="05_summary_report_files/libs/quarto-html/quarto.js"></script>
<script src="05_summary_report_files/libs/quarto-html/popper.min.js"></script>
<script src="05_summary_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="05_summary_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="05_summary_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="05_summary_report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="05_summary_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="05_summary_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="05_summary_report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="05_summary_report_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="05_summary_report_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="05_summary_report_files/libs/datatables-binding-0.33/datatables.js"></script>

<script src="05_summary_report_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="05_summary_report_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="05_summary_report_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="05_summary_report_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="05_summary_report_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="05_summary_report_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">05 Summary Report</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">6/3/24</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#aim-of-the-study" id="toc-aim-of-the-study" class="nav-link active" data-scroll-target="#aim-of-the-study">Aim of the study</a></li>
  <li><a href="#framework-of-our-research" id="toc-framework-of-our-research" class="nav-link" data-scroll-target="#framework-of-our-research">Framework of our research</a></li>
  <li><a href="#data-collection-for-sp-500-index" id="toc-data-collection-for-sp-500-index" class="nav-link" data-scroll-target="#data-collection-for-sp-500-index">Data Collection for S&amp;P 500 Index</a></li>
  <li><a href="#statistics" id="toc-statistics" class="nav-link" data-scroll-target="#statistics">Statistics</a>
  <ul class="collapse">
  <li><a href="#our-results" id="toc-our-results" class="nav-link" data-scroll-target="#our-results">Our results</a></li>
  <li><a href="#results-from-the-article" id="toc-results-from-the-article" class="nav-link" data-scroll-target="#results-from-the-article">Results from the article</a></li>
  </ul></li>
  <li><a href="#model-estimation" id="toc-model-estimation" class="nav-link" data-scroll-target="#model-estimation">Model estimation</a></li>
  <li><a href="#results-comparison-and-final-conclusions" id="toc-results-comparison-and-final-conclusions" class="nav-link" data-scroll-target="#results-comparison-and-final-conclusions">Results comparison and final conclusions</a>
  <ul class="collapse">
  <li><a href="#performance-statistics" id="toc-performance-statistics" class="nav-link" data-scroll-target="#performance-statistics">Performance statistics</a></li>
  <li><a href="#equity-lines" id="toc-equity-lines" class="nav-link" data-scroll-target="#equity-lines">Equity lines</a></li>
  </ul></li>
  <li><a href="#problems-encountered" id="toc-problems-encountered" class="nav-link" data-scroll-target="#problems-encountered">Problems encountered</a>
  <ul class="collapse">
  <li><a href="#time-series-order" id="toc-time-series-order" class="nav-link" data-scroll-target="#time-series-order">Time series order</a></li>
  <li><a href="#computational-efficiency" id="toc-computational-efficiency" class="nav-link" data-scroll-target="#computational-efficiency">Computational efficiency</a></li>
  <li><a href="#convergence-problem" id="toc-convergence-problem" class="nav-link" data-scroll-target="#convergence-problem">Convergence problem</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a></li>
  </ul>
</nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">





<hr>
<section id="aim-of-the-study" class="level1">
<h1>Aim of the study</h1>
<p>We based our research on the article <strong>Applying Hybrid ARIMA-SGARCH in Algorithmic Investment Strategies on S&amp;P500 Index</strong> by Nguyen Vo and Robert Slepaczuk.</p>
<p>Our study aims to evaluate and compare the effectiveness of the ARIMA model and its hybrid combinations with GARCH family models (specifically SGARCH and EGARCH) in forecasting the log returns of the S&amp;P500 index. The research utilizes daily data from Yahoo Finance, spanning from January 1, 2000, to December 31, 2019. Through a rolling window approach, the study investigates whether these hybrid models can better capture the time-series characteristics and offer superior predictive power compared to the standalone ARIMA model. The models are assessed based on their forecasting accuracy (using metrics such as MAE, MAPE, RMSE) and performance (including annualized return, annualized standard deviation, maximum drawdown, information ratio, and adjusted information ratio). The findings indicate that the hybrid models significantly outperform the ARIMA model and the Buy&amp;Hold strategy over the long term, with results remaining robust across different window sizes, distribution types, and GARCH model variations.</p>
</section>
<section id="framework-of-our-research" class="level1">
<h1>Framework of our research</h1>
<p>Our research was divided into five parts, each documented in a separate notebook. In the first notebook, we focused on downloading S&amp;P 500 data. The second notebook was dedicated to estimating ARIMA models. In the third notebook, we conducted sensitivity analysis. The fourth notebook is focused on calculating equity line and performance metrics for base case and performing sensitivity analysis. Finally, in the fifth notebook, we provided a comprehensive summary of our findings and compared our results with those presented in the source article that served as the basis for our research.</p>
</section>
<section id="data-collection-for-sp-500-index" class="level1">
<h1>Data Collection for S&amp;P 500 Index</h1>
<p>We collected historical data for the S&amp;P 500 index from Yahoo Finance to ensure a reliable basis for our hybrid ARIMA-GARCH model analysis. The data spans from January 1, 2000, to December 31, 2019. Using the quantmod package in R, we downloaded the adjusted closing prices. From these, we calculated both logarithmic returns and simple returns to prepare the dataset for model fitting and forecasting.</p>
</section>
<section id="statistics" class="level1">
<h1>Statistics</h1>
<section id="our-results" class="level2">
<h2 class="anchored" data-anchor-id="our-results">Our results</h2>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-b4d7c84cd8a21cc84444" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b4d7c84cd8a21cc84444">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10"],["Min","Quartile_1st","Median","Mean","Quartile_3rd","Max","Skew","Kurtosis","Standard_error","Standard_deviation"],[676.53,1151.5349,1360.955,1574.6801,1986.2225,3240.02,0.9886,-0.07149999999999999,8.2559,585.5315000000001],[-0.09470000000000001,-0.0047,0.0005,0.0002,0.0057,0.1096,-0.2295,8.6425,0.0002,0.0119]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>statistic<\/th>\n      <th>SP500_prices_adj<\/th>\n      <th>SP500_Log_Returns<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 4, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 4, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"statistic","targets":1},{"name":"SP500_prices_adj","targets":2},{"name":"SP500_Log_Returns","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="results-from-the-article" class="level2">
<h2 class="anchored" data-anchor-id="results-from-the-article">Results from the article</h2>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-02e1504df65a2bbbf085" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-02e1504df65a2bbbf085">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10"],["Min","1st Quantile","Median","Arithmetic Mean","3rd Quantile","Max","Skew","Kurtosis","Standard Error Mean (se)","Standard Deviation (sd)"],[676.53,1151.5349,1360.955,1574.6801,1986.2225,3240.02,0.9886,-0.07149999999999999,8.2559,585.5315000000001],[-0.09470000000000001,-0.0047,0.0005,0.0002,0.0057,0.1096,-0.2295,8.6448,0.0002,0.0119]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Descriptive.Statistics<\/th>\n      <th>S.P500.Original.Prices<\/th>\n      <th>Log.Returns<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Descriptive.Statistics","targets":1},{"name":"S.P500.Original.Prices","targets":2},{"name":"Log.Returns","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
<p>The tables presented in the images show descriptive statistics of the S&amp;P 500 adjusted prices and log returns. The first table is produced by our group, and the second table is sourced from an article that we based our research on.</p>
<p>Upon comparison, it is clear that there are no differences in the reported statistics between the two tables. Both sets of statistics are identical, which indicates that our results align perfectly with those from the article.</p>
<p>The consistency between the results from our analysis and those from the article demonstrates that our analysis is accurate and reliable. This alignment confirms the robustness of our methods and calculations in deriving the descriptive statistics for the S&amp;P 500 adjusted prices and log returns.</p>
</section>
</section>
</section>
<section id="model-estimation" class="level1">
<h1>Model estimation</h1>
<p>Below are listed functions we have defined for our research purposes.</p>
<p><strong>fit_best_arima</strong>- This function finds and fits the best ARIMA model. It searches through different combinations of p and q orders up to 5. The function returns the best ARIMA model based on the Akaike Information Criterion (AIC) .</p>
<p><strong>arima_rolling_forecast -</strong> This function performs a rolling forecast using the best ARIMA model. It fits the best ARIMA model to each rolling window of data, and forecasts the next value. It can optionally log the process and show a progress bar.</p>
<p><strong>fit_best_arima_garch -</strong> This function finds and fits the best ARIMA-GARCH model. It searches through different combinations of p and q orders for the ARIMA model and uses a specified GARCH model (g_model) and distribution. The function returns the best ARIMA-GARCH model based on the Akaike Information Criterion (AIC).</p>
<p><strong>arima_garch_rolling_forecast -</strong> This function performs a rolling forecast using the best ARIMA-GARCH model. It fits the best ARIMA-GARCH model to each rolling window of data, and forecasts the next value. It can optionally log the process and show a progress bar. The function handles errors by attempting to refit the model with scaled data.</p>
</section>
<section id="results-comparison-and-final-conclusions" class="level1">
<h1>Results comparison and final conclusions</h1>
<section id="performance-statistics" class="level2">
<h2 class="anchored" data-anchor-id="performance-statistics">Performance statistics</h2>
<section id="base-case" class="level3">
<h3 class="anchored" data-anchor-id="base-case">Base case</h3>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-5bcf500ae6df6ff84af9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5bcf500ae6df6ff84af9">{"x":{"filter":"none","vertical":false,"data":[["1","2","3"],["S&amp;P 500","arima_base_case","arima-garch_base_case"],[null,0.00773,0.00757],[null,0.000147,0.000141],[null,0.0121,0.0119],[null,null,null],[6.55,-3.61,3.85],[18.77,18.78,18.78],[55.76,63.1,53.85],[34.91,-19.25,20.51],[4.1,-1.1,1.47]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X.1<\/th>\n      <th>MAE<\/th>\n      <th>MSE<\/th>\n      <th>RMSE<\/th>\n      <th>MAPE<\/th>\n      <th>ARC...<\/th>\n      <th>ASD...<\/th>\n      <th>MD<\/th>\n      <th>IR....<\/th>\n      <th>IR.....<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"X.1","targets":1},{"name":"MAE","targets":2},{"name":"MSE","targets":3},{"name":"RMSE","targets":4},{"name":"MAPE","targets":5},{"name":"ARC...","targets":6},{"name":"ASD...","targets":7},{"name":"MD","targets":8},{"name":"IR....","targets":9},{"name":"IR.....","targets":10}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Obtained performance statistics of ARIMA(p,1,q) &amp; ARIMA(p,1,q)-SGARCH(1,1).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/case1t.png" class="img-fluid figure-img"></p>
<figcaption>Original performance statistics of ARIMA(p,1,q) &amp; ARIMA(p,1,q)-SGARCH(1,1) from Vo, N., &amp; Ślepaczuk, R. (2022)</figcaption>
</figure>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-2803a1764df219deb50c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2803a1764df219deb50c">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["S&amp;P 500","arima_base_case","arima-garch_base_case","arima-egarch_ged_1000"],[null,0.00773,0.00757,0.00758],[null,0.000147,0.000141,0.000142],[null,0.0121,0.0119,0.0119],[null,null,null,null],[6.55,-3.61,3.85,2.39],[18.77,18.78,18.78,18.78],[55.76,63.1,53.85,42.49],[34.91,-19.25,20.51,12.74],[4.1,-1.1,1.47,0.72]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X.1<\/th>\n      <th>MAE<\/th>\n      <th>MSE<\/th>\n      <th>RMSE<\/th>\n      <th>MAPE<\/th>\n      <th>ARC...<\/th>\n      <th>ASD...<\/th>\n      <th>MD<\/th>\n      <th>IR....<\/th>\n      <th>IR.....<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"X.1","targets":1},{"name":"MAE","targets":2},{"name":"MSE","targets":3},{"name":"RMSE","targets":4},{"name":"MAPE","targets":5},{"name":"ARC...","targets":6},{"name":"ASD...","targets":7},{"name":"MD","targets":8},{"name":"IR....","targets":9},{"name":"IR.....","targets":10}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Obtained performance statistics of ARIMA(p,1,q) &amp; ARIMA(p,1,q)-EGARCH(1,1).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/case2t.png" class="img-fluid figure-img"></p>
<figcaption>Original performance statistics of ARIMA(p,1,q) &amp; ARIMA(p,1,q)-EGARCH(1,1) from Vo, N., &amp; Ślepaczuk, R. (2022)</figcaption>
</figure>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a9bb4eb8a4d6714fb6f4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a9bb4eb8a4d6714fb6f4">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5"],["S&amp;P 500","arima_base_case","arima-sgarch_ged_500","arima-garch_base_case","arima-sgarch_ged_1500"],[null,0.00773,0.0158,0.00757,0.172],[null,0.000147,0.00826,0.000141,0.165],[null,0.0121,0.09089999999999999,0.0119,0.407],[null,null,null,null,null],[6.55,-3.61,0.72,3.85,11.98],[18.77,18.78,24.36,18.78,478.67],[55.76,63.1,43.4,53.85,79.22],[34.91,-19.25,2.95,20.51,2.5]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X.1<\/th>\n      <th>MAE<\/th>\n      <th>MSE<\/th>\n      <th>RMSE<\/th>\n      <th>MAPE<\/th>\n      <th>ARC...<\/th>\n      <th>ASD...<\/th>\n      <th>MD<\/th>\n      <th>IR....<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"X.1","targets":1},{"name":"MAE","targets":2},{"name":"MSE","targets":3},{"name":"RMSE","targets":4},{"name":"MAPE","targets":5},{"name":"ARC...","targets":6},{"name":"ASD...","targets":7},{"name":"MD","targets":8},{"name":"IR....","targets":9}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Obtained performance statistics of ARIMA(p,1,q)-SGARCH(1,1) with different window sizes.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/case3t.png" class="img-fluid figure-img"></p>
<figcaption>Original performance statistics of ARIMA(p,1,q)-SGARCH(1,1) with different window sizes from Vo, N., &amp; Ślepaczuk, R. (2022)</figcaption>
</figure>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-49a45a7d71c0bae42e9c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-49a45a7d71c0bae42e9c">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["S&amp;P 500","arima_base_case","arima-garch_base_case","arima-sgarch_snorm_1000","arima-sgarch_sstd_1000","arima-sgarch_sged_1000"],[null,0.00773,0.00757,0.0306,0.0259,0.0236],[null,0.000147,0.000141,0.0235,0.0187,0.0164],[null,0.0121,0.0119,0.153,0.137,0.128],[null,null,null,null,null,null],[6.55,-3.61,3.85,3.76,12.91,9.4],[18.77,18.78,18.78,116.52,454.4,414.31],[55.76,63.1,53.85,44.68,79.29000000000001,79.34],[34.91,-19.25,20.51,3.23,2.84,2.27]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X.1<\/th>\n      <th>MAE<\/th>\n      <th>MSE<\/th>\n      <th>RMSE<\/th>\n      <th>MAPE<\/th>\n      <th>ARC...<\/th>\n      <th>ASD...<\/th>\n      <th>MD<\/th>\n      <th>IR....<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"X.1","targets":1},{"name":"MAE","targets":2},{"name":"MSE","targets":3},{"name":"RMSE","targets":4},{"name":"MAPE","targets":5},{"name":"ARC...","targets":6},{"name":"ASD...","targets":7},{"name":"MD","targets":8},{"name":"IR....","targets":9}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Obtained performance statistics of all hybrid models with different distributions.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/case4t.png" class="img-fluid figure-img"></p>
<figcaption>Original performance statistics of all hybrid models with different distributions from Vo, N., &amp; Ślepaczuk, R. (2022)</figcaption>
</figure>
</div>
</section>
</section>
<section id="equity-lines" class="level2">
<h2 class="anchored" data-anchor-id="equity-lines">Equity lines</h2>
<section id="base-case-1" class="level3">
<h3 class="anchored" data-anchor-id="base-case-1">Base case</h3>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="05_summary_report_files/figure-html/Case_1-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Obtained equity curves of ARIMA(p,1,q) &amp; ARIMA(p,1,q)-SGARCH(1,1).</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/case1.png" class="img-fluid figure-img"></p>
<figcaption>Original equity curves of ARIMA(p,1,q) &amp; ARIMA(p,1,q)-SGARCH(1,1) from Vo, N., &amp; Ślepaczuk, R. (2022)</figcaption>
</figure>
</div>
</section>
<section id="egarch-vs-sgarch" class="level3">
<h3 class="anchored" data-anchor-id="egarch-vs-sgarch">EGARCH vs SGARCH</h3>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="05_summary_report_files/figure-html/Case_2-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Obtained equity curves of ARIMA(p,1,q) &amp; ARIMA(p,1,q)-EGARCH(1,1).</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/case2.png" class="img-fluid figure-img"></p>
<figcaption>Original equity curves of ARIMA(p,1,q) &amp; ARIMA(p,1,q)-EGARCH(1,1) from Vo, N., &amp; Ślepaczuk, R. (2022)</figcaption>
</figure>
</div>
</section>
<section id="different-window-sizes" class="level3">
<h3 class="anchored" data-anchor-id="different-window-sizes">Different window sizes</h3>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 490 rows containing missing values (`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="05_summary_report_files/figure-html/Case_3-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Obtained equity curves of ARIMA(p,1,q)-SGARCH(1,1) with different window sizes.</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/case3.png" class="img-fluid figure-img"></p>
<figcaption>Original equity curves of ARIMA(p,1,q)-SGARCH(1,1) with different window sizes from Vo, N., &amp; Ślepaczuk, R. (2022)</figcaption>
</figure>
</div>
</section>
<section id="different-distributions" class="level3">
<h3 class="anchored" data-anchor-id="different-distributions">Different distributions</h3>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="05_summary_report_files/figure-html/Case_4-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Obtained equity curves of all hybrid models with different distributions.</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/case4.png" class="img-fluid figure-img"></p>
<figcaption>Original equity curves of all hybrid models with different distributions from Vo, N., &amp; Ślepaczuk, R. (2022)</figcaption>
</figure>
</div>
</section>
</section>
</section>
<section id="problems-encountered" class="level1">
<h1>Problems encountered</h1>
<section id="time-series-order" class="level2">
<h2 class="anchored" data-anchor-id="time-series-order">Time series order</h2>
<p>in article it was specified that log returns of S&amp;P500 are forecasted. In further parts author mentions using model ARIMA(p,1,q) suggesting that original time series was integrated of order 1 - meaning that they were differenced once. Additionally there were parts where model ARMA was mentioned - with no integration.</p>
<section id="our-solution" class="level3">
<h3 class="anchored" data-anchor-id="our-solution">Our solution</h3>
<p>From our point of view there is no reason to difference time series that were converted to log returns - plots of log returns suggest stationary time series, no tests were provided for stationarity of time series in the article. For our models we used log returns of S&amp;P500</p>
</section>
</section>
<section id="computational-efficiency" class="level2">
<h2 class="anchored" data-anchor-id="computational-efficiency">Computational efficiency</h2>
<p>In the artcle the best model was chosen based on AIC. In order to choose best p and q orders - 35 models were fitted. One step ahead forecasts were calculated for period between 20 December 2005 and 30 December 2019 - 3530 forecast vectors. In total foracasting using one models means checking 35*3530 = 123.550 models. Additionally, eight different forecasts were made using various models.</p>
<section id="our-solution-1" class="level3">
<h3 class="anchored" data-anchor-id="our-solution-1">Our solution</h3>
<p>In our notebooks we implemented parallel computing to be able to use multiple cores at which significantly speed up our calculations.</p>
</section>
</section>
<section id="convergence-problem" class="level2">
<h2 class="anchored" data-anchor-id="convergence-problem">Convergence problem</h2>
<p>While running multiple models, we encountered an issue with the rugarch package. During the fitting and forecasting loops, the process was interrupted due to convergence problems. This issue caused our joobs to break.</p>
<section id="our-solution-2" class="level3">
<h3 class="anchored" data-anchor-id="our-solution-2">Our solution</h3>
<p>To deal with this issue we used many tryCatch expressions, Having encountered predefined errors tryCatch would either skip the loop iteration or return NA, preventing the job from breaking completely. Additionally, we generated log files to track the errors.</p>
</section>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<p>Vo, N., &amp; Ślepaczuk, R. (2022). Applying hybrid ARIMA-SGARCH in algorithmic investment strategies on S&amp;P500 index. Entropy, 24(2), 158.</p>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/calculations.png" class="img-fluid figure-img"></p>
<figcaption>Behing the scenes of the model caluclation</figcaption>
</figure>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>